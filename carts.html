
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.4/css/all.css"
    integrity="sha384-DyZ88mC6Up2uqS4h/KRgHuoeGwBcD4Ng9SiP4dIRy0EXTlnuz47vAwmeGwVChigm" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    integrity="sha512-9usAa10IRO0HhonpyAIVpjrylPvoDwiPUiKdWk5t3PyolY1cOd4DSE0Ga+ri4AuTroPR5aQvXU9xC6qOPnzFeg=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
<link rel="stylesheet" href="Styles/common.css">
<link rel="stylesheet" href="Styles/homepage.css">
    <style>
        
         #container{
             display: flex;
             height: auto;
             width: auto;
             flex-flow: wrap;
             justify-content: center;
             margin-top: 100px;
            }
           #divBaap{
               width: 300px;
           }
           #total{
               color: rgb(231, 19, 19);
               margin-top: 100px;
           } 
    </style>
</head>
<body>
     <!-- Header -->
     <div class="header-container">
        <div class="header-data">
            <div class="header-left">
                <div class="icon main-icon">
                    <i class="fas fa-bars"></i>
                </div>
                <div class="logo">
                    <img src="	https://assets.interntheory.com/creative/logo.png" alt="Intern Theroy">
                </div>
            </div>
            <div class="header-right">
                <div class="icon">
                    <i class="fas fa-shopping-cart"></i>
                </div>
                <div class="button-container"><a href="login.html">Sign In</a></div>
            </div>
        </div>
    </div>
    

    <h3 id="total">Total Price: 0</h3>
    <div id="container" ></div>

   
    <script>
        var cartArr=JSON.parse(localStorage.getItem("Cartitem")) || [];
    

        function displayData(data){
        document.querySelector("#container").innerHTML="";
        console.log(cartArr);

        data.map(function(el,index){

            var courseDiv = document.createElement("div");
        var img = document.createElement("img");
        img.setAttribute("src",data.img);
        img.setAttribute("class","imgProperty");
        img.innerText = data.img;

        var nameDiv = document.createElement("div")
        var name = document.createElement("h2");
        name.innerText = data.name;
        name.setAttribute("class","marginBottom");

        var note = document.createElement("p");
        note.innerText = data.note;

        nameDiv.append(name, note);
        nameDiv.setAttribute("class","namenoteClass")

        var costDiv = document.createElement("div")
        var price = document.createElement("s");
        price.innerText = data.price;

        var offPrice = document.createElement("h4");
        offPrice.innerText = data.offPrice;
        
        
        costDiv.append(price, offPrice);
        costDiv.setAttribute("class", "costdiv");

        var emiDiv = document.createElement("div");
        var emi = document.createElement("p");
        emi.innerText = data.emi;

        emiDiv.append(emi);
        emiDiv.setAttribute("class", "emiClass");

        var costemi = document.createElement("div");
        costemi.append(costDiv, emiDiv);

        var firstdiv = document.createElement("div");
        firstdiv.append(nameDiv, costemi);
        firstdiv.setAttribute("class", "firstblock");

        var second = document.createElement("div");
        // var cart = document.createElement("button");
        // cart.innerText = "ADD TO CART";
        // second.append(cart);
        // cart.setAttribute("class","buttonContainer");
        // second.setAttribute("class","cartbtn"); 

        courseDiv.append(img, firstdiv, second);
        courseDiv.setAttribute("class","courseDivGrid");

        var gridDiv = document.createElement("div");
        gridDiv.append(courseDiv);
        gridDiv.setAttribute("class","gridClass");
        document.querySelector("#courseContainer").append(gridDiv);

        var divThird=document.createElement("button");
                    divThird.innerText="Add+1";
                    
                    divThird.addEventListener("click",function(){
                        increaseQuant(index);
                    });
       var btn2=document.createElement("button")
                btn2.innerText="Minus-1";
                btn2.addEventListener("click",function(){
                    decreaseQuant(index);
                });
        firstdiv.append(divThird,btn2,name,note,costDiv,emiDiv,costemi);
        courseDiv.append(nameDiv,firstdiv)

       
        function addToCart(el){
             el.quant = 1;
             cartArr.push(el);
             console.log(el);
             localStorage.setItem("Cartitem",JSON.stringify(cartArr));
        }
        
        });
    }
           

    function showTotal(){

             var total = cartArr.reduce(function(acc,el){
             return acc + (el.price*el.quant);
             },0);

             document.getElementById("total").innerText="Total Price: "+total;
             }
             
             displayData(cartArr);
   
           
             showTotal();
    

            function increaseQuant(index){
                console.log(index);
                cartArr[index].quant++;
                console.log(cartArr);
                localStorage.setItem("Cartitem",JSON.stringify(cartArr));
                displayData(cartArr);
                showTotal();
                }

                function decreaseQuant(index){
                console.log(index);
                cartArr[index].quant--;
                console.log(cartArr);
                localStorage.setItem("Cartitem",JSON.stringify(cartArr));
                displayData(cartArr);
                showTotal();
                }
           
        
        //   localStorage.clear("Cartitem",JSON.stringify(cartArr)); 
    </script>

</body>
</html>
